# 战斗 - 战斗方案编辑器

## 打开战斗方案编辑器

在高级功能页面中，点击启动战斗方案编辑器按钮，即可打开战斗方案编辑器

## 加载战斗方案

1. 点击战斗方案编辑器上方的加载按钮，即可加载战斗方案。默认打开路径为:```FAA根目录/battle_plan/``` 该路径同时也是faa的战斗方案读取路径。
2. 在文件选择框中选择您要加载的战斗方案文件，如果您想要完全自制一个新的战斗方案，可以打开花瓶方案，在其基础上修改并另存为。
3. 您可以打开一个战斗方案作为样例，初步学习。

## 编辑战斗方案

加载成功后，您会看见战斗方案所携带卡片的列表和编辑方案的棋盘。  
该列表为战斗方案可用的所有卡片，该棋盘为游戏内卡片布局。

### 卡片列表

* 卡片列表在UI左侧. 第一位固定为 **玩家**，第二位及之后为 **携带卡片**
* 列表中卡片的从上到下的顺序，即为战斗时放置卡片的 **优先级**，您可以拖动它们来改变顺序。

::: tip 用例1
若炭烧海星的排序在防空卡之上，那么在实际战斗中，炭烧海星进入CD或放满前，FAA不会尝试放置防空卡。
:::

::: tip 用例2
可以设置两张炭烧海星，高优先级为第一组炭烧海星守住几个关键位置，中优先级可以优先放置其他卡片，低优先级为第二组炭烧海星铺满棋盘其他格子。
:::

### 卡片信息

卡片信息在UI上部，选中卡片列表中的一张卡后可编辑.   
也会在卡片列表中以缩略视图显示.

* **卡片ID**
    * 严格对应卡片在游戏中的卡槽位，从1开始，严禁设置为0。
    * 您需要根据方案预先选卡。请确保卡片ID和游戏内卡片的卡槽位完全一致。
* **卡片名称**
    * 大多数情况下，对战斗方案的执行无任何影响。不需要保证卡片名称与游戏内一致，仅作为战斗方案编辑时的显示。
    * 若名称包含了"瓜皮"或"护罩"，在按波次变阵中将该卡识别为护罩类卡片，不参与自动铲卡。
* **遍历与队列**
    * 太长了等后来人复制
* **复制卡参数**
    * 即幻幻鸡参数，坤参数。
    * 设置高于0时启用，该参数**越高**，复制卡复制该卡的优先级就越高。

### 棋盘

展示了每组放卡的放置位置，格子中卡片后的`序号`则为放置顺序。

* 操作
    * 先在左侧的卡片列表中选中一张卡, 以开始编辑。
    * 选择的卡片会在棋盘中高亮。
    * `右键`棋盘即可删除该格棋盘的所有卡片。
    * `左键`棋盘会在该格棋盘放置当前选中卡片，如果该格棋盘已有相同卡片，则会删除那张卡片。
* 特性
    * 一格棋盘可以放置多张卡片
    * `ctrl+z` 可撤销，`ctrl+y` 可恢复，最多撤销/恢复20次操作

### 方案信息

可以提醒之后编辑和使用该方案的玩家，记得写一些说明上去哦~
* 推荐包含 文字化的卡组
* 推荐写明 最低配置要求

## 保存战斗方案

* 保存当前战斗方案
    * 覆盖保存当前编辑的战斗方案，UUID不变
* 战斗方案另存为
    * 覆盖一个文件, 取被覆盖目标的UUID, 并切换其为正在编辑方案
    * 另存为新文件，生成新的UUID, 并切换其为正在编辑方案

## 在faa中使用战斗方案
1. 刷新FAA的战斗方案列表: 点击一键长草-保存配置按钮 或 重新启动FAA
2. 现在您就能在战斗方案列表中看到您的新方案啦，选择使用并保存配置方案后, 开始运行吧~